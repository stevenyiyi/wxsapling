(this.webpackJsonpwxsapling=this.webpackJsonpwxsapling||[]).push([[0],{136:function(e,t,n){},185:function(e,t,n){},230:function(e,t){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){},407:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},435:function(e,t,n){},436:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(58),r=n.n(c),o=n(44),i=n.n(o),l=n(31),u=n(6),d=n(0);function f(e){return Object(d.jsx)("div",{children:"hello,HomePage!"})}var j=n(86),m=n(10),b=n(2),p=n(188),h=n.n(p).a.create({baseURL:"https://localhost/",withCredentials:!0,headers:{"Content-type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}),g=n(39),O=n.n(g);const v=a.a.createContext({user:null,update_user:e=>{}});n(231);const x=a.a.forwardRef(((e,t)=>{const{placement:n,delay:s,show:c,onClose:r,children:o}=e,i=a.a.useRef();return a.a.useEffect((()=>{console.log("add tooltip element to refAnchor!");const e=t.current,n=i.current;return e.classList.add("tooltip"),e.appendChild(n),()=>{e.classList.remove("tooltip"),e.removeChild(n)}}),[t]),a.a.useEffect((()=>{let e=0;return c?(i.current.classList.add("visible"),s>0&&(e=setTimeout((()=>{r()}),s))):i.current.classList.remove("visible"),()=>{e>0&&clearTimeout(e)}}),[s,c,r]),Object(d.jsx)("div",{ref:i,className:"tooltiptext ".concat(n),children:o})}));x.defaultProps={placement:"top",delay:0,show:!1,onClose:()=>{}};var w=x,y=(n(232),n(136),function(e){var t=134217743,n=134217744,s=Object(u.g)(),c=a.a.useState({username:"",password:""}),r=Object(b.a)(c,2),o=r[0],l=r[1],f=a.a.useContext(v),p=Object(u.f)(),g=a.a.useRef(),x=a.a.useState({show:!1,text:""}),y=Object(b.a)(x,2),_=y[0],k=y[1],E=function(e){var t=e.target,n=t.id,s=t.value;l((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},n,s))}))};return Object(d.jsxs)("div",{className:"loginOuterContainer",children:[Object(d.jsxs)("div",{className:"loginInnerContainer",children:[Object(d.jsx)("h1",{className:"heading",children:"\u7528\u6237\u767b\u5f55"}),Object(d.jsxs)("div",{className:"form__div",children:[Object(d.jsx)("input",{className:"form__input",id:"username",type:"text",placeholder:" ",onChange:E}),Object(d.jsx)("label",{className:"form__label",htmlFor:"username",children:"\u7528\u6237\u540d"})]}),Object(d.jsxs)("div",{className:"form__div",children:[Object(d.jsx)("input",{className:"form__input",type:"password",id:"password",placeholder:" ",onChange:E}),Object(d.jsx)("label",{className:"form__label",htmlFor:"password",children:"\u53e3\u4ee4"})]}),Object(d.jsx)("button",{ref:g,className:"button mt-20",type:"submit",onClick:function(e){if(e.preventDefault(),function(){var e=!0;return o.username.match(/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/)?(e=!0,o.password.match(/^[0-9a-zA-Z]{6,22}$/)?e=!0:(e=!1,k(Object(m.a)(Object(m.a)({},_),{},{show:!0,text:"\u53e3\u4ee4\u9650\u5236\u4ec5\u82f1\u6587\u5b57\u6bcd\u6216\u6570\u5b57\u7ec4\u6210\uff0c\u957f\u5ea6\u8303\u56f4(6-22)\u4e2a\u5b57\u7b26"})),e)):(e=!1,k(Object(m.a)(Object(m.a)({},_),{},{show:!0,text:"\u975e\u6cd5\u7684\u7528\u6237\u540d\uff0c\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"})),e)}()){var a="/sapling/login",c=O()(o.username+":"+o.password).toString(),r=O()(o.password+":"+a).toString(),l=O()(o.username+":"+o.password+":"+a).toString(),u={ts:Date.now()};u.username=o.username,u.token=O()(c+":"+r+":"+l).toString(),h.get(a,{params:u}).then((function(e){var a=e.data.result;0===a?(f.updateUser({username:o.username,role:i.a.get("role"),token:i.a.get("token")}),k(Object(m.a)(Object(m.a)({},_),{},{show:!0,text:"\u767b\u5f55\u6210\u529f,\u5c06\u8f6c\u5411\u4e3b\u9875!"})),p.state&&s(p.state.from)):a===t?k(Object(m.a)(Object(m.a)({},_),{},{show:!0,text:"\u5e10\u6237\u4e0d\u5b58\u5728\uff0c\u8bf7\u5148\u6ce8\u518c\u540e\u518d\u767b\u5f55\uff01"})):134217745===a?k(Object(m.a)(Object(m.a)({},_),{},{show:!0,text:"\u5e10\u6237\u5df2\u8fc7\u671f!"})):a===n&&k(Object(m.a)(Object(m.a)({},_),{},{show:!0,text:"\u53e3\u4ee4\u9519\u8bef\uff01"}))})).catch((function(e){k(Object(m.a)(Object(m.a)({},_),{},{show:!0,text:e.toJSON().message}))}))}},children:"\u767b \u5f55"})]}),Object(d.jsx)(w,{ref:g,delay:5e3,show:_.show,onClose:function(){return k(Object(m.a)(Object(m.a)({},_),{},{show:!1}))},children:Object(d.jsx)("p",{children:_.text})})]})});n(233);function _(e){const{pics:t}=e,[n,s]=a.a.useState([]),[c,r]=a.a.useState([]),[o,i]=a.a.useState(0),l=a.a.useCallback((()=>{for(let t=0;t<n.length;t++)n[t].current.style.display="none";for(let t=0;t<c.length;t++)c[t].current.className=c[t].current.className.replace(" active","");console.log("Current index:".concat(o)),n[o].current.style.display="block",c[o].current.className+=" active";let e=o+1;i(e),e>=n.length&&i(0)}),[n,c,o]);return a.a.useEffect((()=>{s((e=>Array(t.length).fill().map(((e,t)=>a.a.createRef())))),r((e=>Array(t.length).fill().map(((e,t)=>a.a.createRef()))))}),[t]),a.a.useEffect((()=>{const e=setTimeout(l,3e3);return()=>clearTimeout(e)})),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"slideshow-container",children:t&&t.map(((e,s)=>Object(d.jsxs)("div",{ref:n[s],className:"mySlides fade",children:[Object(d.jsx)("div",{className:"numbertext",children:"".concat(s+1," / ").concat(t.length)}),Object(d.jsx)("img",{src:"http://localhost/imgs/".concat(e),alt:"carousel_image"}),Object(d.jsx)("div",{className:"text",children:"test"})]},s)))}),Object(d.jsx)("div",{className:"dot-group",children:t&&t.map(((e,t)=>Object(d.jsx)("span",{ref:c[t],className:"dot"},t)))})]})}n(45);function k(e){var t=Object(l.b)(),n=Object(b.a)(t,1)[0].get("schoolid"),s=a.a.useState(null),c=Object(b.a)(s,2),r=c[0],o=c[1];a.a.useEffect((function(){n&&h.get("/sapling/get_school?schoolid=".concat(n)).then((function(e){0===e.data.result?o(e.data.school):console.log("Server respsone error code:".concat(e.data.result))})).catch((function(e){return console.log(e.toJSON().message)}))}),[n]),console.log("schoolid:".concat(n));return Object(d.jsx)("div",{className:"container",children:r&&Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(_,{pics:function(e){var t=[];return e&&(t=e.split(",")),t.push("img_mountains_wide.jpeg"),t.push("img_nature_wide.jpeg"),t}(r.photo)}),Object(d.jsx)("p",{className:"title",children:r.name}),Object(d.jsx)("div",{className:"text_content",children:r.introduce})]})})}var E=n(3);function S(e){const[t]=Object(l.b)(),n=t.get("schoolid"),[s,c]=a.a.useState([]),[r,o]=a.a.useState([]),[i,u]=a.a.useState(0),f=a.a.useRef();a.a.useEffect((()=>{n&&(h.get("/sapling/get_teachers?schoolid=".concat(n)).then((e=>{0===e.data.result?(console.log(e.data.teachers),c(e.data.teachers)):console.log("Server response error:".concat(e.data.result))})).catch((e=>console.log(e))),h.get("/sapling/get_classes?schoolid=".concat(n,"&simple=true")).then((e=>{0===e.data.result?(console.log(e.data.classes),o(e.data.classes)):console.log("Server response error:".concat(e.data.result))})).catch((e=>console.log(e))))}),[n]);const j=e=>{let t=[];for(const n of e)for(const e of r)if(e.classid===n){t.push(e.name);break}return t.join()},m=e=>{f.current.classList.toggle("show")};return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"topbar",children:[Object(d.jsx)("button",{className:"circle_btn",onClick:e=>{f.current.classList.toggle("show")},children:Object(d.jsx)(E.k,{})}),Object(d.jsx)("h3",{children:"\u6559\u5e08\u4ecb\u7ecd"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"circle_btn",disabled:0===i,onClick:e=>{u((e=>e-1))},children:Object(d.jsx)(E.a,{})}),Object(d.jsx)("button",{className:"circle_btn",disabled:(()=>{let e=!0;return s.length>0&&(e=!(i<s.length-1)),e})(),onClick:e=>{u((e=>e+1))},children:Object(d.jsx)(E.b,{})})]})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("img",{src:(()=>{let e="http://localhost/imgs/img_avatar_unknow.png";return s.length>0&&s[i].photo&&(e="imgs/".concat(s[i].photo)),e})(),alt:"teacher",style:{width:"100%"}}),Object(d.jsx)("p",{className:"title",children:s.length>0?s[i].nick_name:"\u6d4b\u8bd5"}),Object(d.jsx)("div",{className:"text_content",children:s.length>0?s[i].note:""})]}),Object(d.jsxs)("div",{ref:f,className:"sidenav",children:[Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("p",{children:"\u6559\u5e08\u5217\u8868"}),Object(d.jsx)("button",{className:"circle_btn",onClick:m,children:Object(d.jsx)(E.s,{})})]}),Object(d.jsx)("div",{className:"user-list__container",children:s.map(((e,t)=>Object(d.jsxs)("div",{className:t===i?"user-item__wrapper user-item__selected":"user-item__wrapper",id:t,onClick:()=>{u(t),m()},children:[Object(d.jsx)("div",{className:"user-item__name-wrapper",children:Object(d.jsx)("div",{className:"user-item__name",children:e.nick_name})}),Object(d.jsx)("p",{children:j(e.classes)})]},e.username)))})]})]})}function N(e){const[t]=Object(l.b)(),n=t.get("schoolid"),[s,c]=a.a.useState(null);return a.a.useEffect((()=>{n&&h.get("/sapling/get_recipes?schoolid=".concat(n)).then((e=>{0===e.data.result?c(e.data.recipes):console.log("Server response code:".concat(e.data.result))})).catch((e=>console.log(e.toJSON().message)))})),Object(d.jsx)("div",{className:"tableContainer",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u661f\u671f"}),Object(d.jsx)("th",{children:"\u98df\u8c31"})]})}),Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"\u661f\u671f\u4e00"}),Object(d.jsx)("td",{children:s?s.monday:""})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"\u661f\u671f\u4e8c"}),Object(d.jsx)("td",{children:s?s.tuesday:""})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"\u661f\u671f\u4e09"}),Object(d.jsx)("td",{children:s?s.wednesday:""})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"\u661f\u671f\u56db"}),Object(d.jsx)("td",{children:s?s.thursday:""})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"\u661f\u671f\u4e94"}),Object(d.jsx)("td",{children:s?s.friday:""})]})]})]})})}var C=n(19),L=n(87),R=(n(395),n(57)),A=n.n(R);n(396);function M(e){const{image:t,name:n="",onClick:a=(()=>{}),onMouseOver:c=(()=>{}),shape:r="circle",size:o=32,position:i="left"}=e,[l,u]=Object(s.useState)(!1),[f,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{u(!1),j(!1)}),[t]);const m=((null===n||void 0===n?void 0:n.toString())||"").charAt(0);return Object(d.jsx)("div",{className:"str-chat__avatar str-chat__avatar--".concat(r," str-chat__avatar--").concat(i),"data-testid":"avatar",onClick:a,onMouseOver:c,style:{flexBasis:"".concat(o,"px"),fontSize:"".concat(o/2,"px"),height:"".concat(o,"px"),lineHeight:"".concat(o,"px"),width:"".concat(o,"px")},title:n,children:t&&!l?Object(d.jsx)("img",{alt:m,className:"str-chat__avatar-image".concat(f?" str-chat__avatar-image--loaded":""),"data-testid":"avatar-img",onError:()=>u(!0),onLoad:()=>j(!0),src:t,style:{flexBasis:"".concat(o,"px"),height:"".concat(o,"px"),objectFit:"cover",width:"".concat(o,"px")}}):Object(d.jsx)("div",{className:"str-chat__avatar-fallback","data-testid":"avatar-fallback",children:m})})}const I=e=>{let t=e.lastIndexOf("@");if(t<0)throw Error("Invalid message from field:".concat(e));let n=e.substring(0,t),s=e.substring(t+1),a=n.split(":");if(2!==a.length)throw Error("Invalid message from field:".concat(e));return{username:s,name:a[0],avatar:a[1]}},P=e=>"https://anylooker.com/live/"+e+"_master.m3u8";var D=function(e){var t=e.to,n=e.from,s=e.type,a=e.content,c=e.ts,r=e.filename,o=!1,i=I(n);i.username===t&&(o=!0);var l=function(e,t,n){if(e.startsWith("text"))return Object(d.jsx)("p",{children:A.a.emojify(t)});if(e.startsWith("image")){var s=new Blob([t],{type:e,name:n}),a=(window.URL||window.webkitURL).createObjectURL(s);return Object(d.jsx)("div",{className:"messageContainer--image",children:Object(d.jsx)("img",{src:a,onLoad:function(){return URL.revokeObjectURL(a)},alt:"assets"})})}if(e.startsWith("video")||e.startsWith("audio")){var c=new Blob([t],{type:e,name:n}),r=(window.URL||window.webkitURL).createObjectURL(c);return Object(d.jsx)("div",{className:"messageContainer--video",children:Object(d.jsxs)("video",{autoPlay:!0,muted:!0,controls:!0,children:[Object(d.jsx)("source",{src:r,onLoad:function(){return URL.revokeObjectURL(r)},type:e}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301HTML5\u89c6\u9891\u64ad\u653e."]})})}var o=new Blob([t],{type:e,name:n}),i=(window.URL||window.webkitURL).createObjectURL(o);return Object(d.jsx)("p",{children:Object(d.jsxs)("a",{href:i,download:!0,children:[Object(d.jsx)(E.f,{}),Object(d.jsx)("span",{children:n})]})})};return o?Object(d.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(d.jsx)(M,{image:i.avatar?"/imgs/".concat(i.username,".").concat(i.avatar):"",name:i.name,size:48,position:"left"}),l(s,a,r),Object(d.jsx)("span",{className:"time-right",children:"".concat(i.name,"  ").concat(new Date(c).toLocaleString())})]}):Object(d.jsxs)("div",{className:"messageContainer darker",children:[Object(d.jsx)(M,{image:i.avatar?"/imgs/".concat(i.username,".").concat(i.avatar):"",name:i.name,size:48,position:"right"}),l(s,a,r),Object(d.jsx)("span",{className:"time-left",children:"".concat(i.name,"  ").concat(new Date(Number(c)).toLocaleString())})]})};D.defaultProps={from:"\u6210\u6021",to:"\u6210\u6021",type:"text",content:"\u4eca\u5929\u8fd8\u597d\u5417?",ts:Date.now()};var U=D;n(397);function F(e){var t=e.messages;return Object(d.jsx)("div",{className:"messages-container",children:Object(d.jsx)(L.a,{className:"messages",children:t&&t.map((function(e,t){return Object(d.jsx)("div",{children:Object(d.jsx)(U,{to:e.to,from:e.from,type:e.type,content:e.content,ts:e.ts,filename:e.filename})},t)}))})})}n(398);var T=e=>{let{classes:t,state:n,unReadMessages:s,handleNotifications:a}=e;return Object(d.jsxs)("div",{className:"infoBar",children:[Object(d.jsxs)("div",{className:"leftInnerContainer",children:[Object(d.jsx)("div",{className:"room__state ".concat((e=>1===e?"online":"offline")(n))}),Object(d.jsx)("h3",{children:t?(e=>e.map((e=>e.name)).join())(t):"\u6d4b\u8bd5"}),Object(d.jsx)("p",{children:(e=>{switch(e){case 0:return"\u6b63\u5728\u8fde\u63a5...";case 1:return"\u5df2\u7ecf\u8fde\u63a5";case 2:return"\u8fde\u63a5\u6b63\u5728\u5173\u95ed";case 3:return"\u8fde\u63a5\u5df2\u5173\u95ed";default:return"\u975e\u6cd5\u7684\u72b6\u6001\u7801"}})(n)})]}),Object(d.jsx)("div",{className:"rightInnerContainer",children:Object(d.jsxs)("div",{className:"chat__notification",onClick:a,children:[Object(d.jsx)(E.d,{}),s>0?Object(d.jsx)("span",{className:"badge",children:s}):null]})})]})};n(399);const z=e=>{let{user:t,sel:n,setSelectedUsers:s}=e;const[c,r]=a.a.useState(!1);a.a.useEffect((()=>{r(n)}),[n]);return Object(d.jsxs)("div",{className:"user-item__wrapper",onClick:()=>{s(c?e=>e.filter((e=>e!==t.username)):e=>[...e,t.username]),r((e=>!e))},children:[Object(d.jsxs)("div",{className:"user-item__name-wrapper",children:[Object(d.jsx)(M,{image:t.image,name:t.nick_name||t.username,size:32}),Object(d.jsx)("p",{className:"user-item__name",children:t.nick_name||t.username})]}),t.online?Object(d.jsx)("div",{className:"user-item__state-online"}):Object(d.jsx)("div",{className:"user-item__state-offline"}),Object(d.jsx)("div",{className:"user-item__invite-empty",children:c&&Object(d.jsx)(E.e,{})})]})};function W(e){let{users:t,show:n,onHide:s,selectedUsers:c,setSelectedUsers:r}=e;const o=a.a.useRef(),i=e=>{if(e.target.checked){let e=[];t.forEach((t=>{e.push(t.username)})),r(e)}else r([])};a.a.useEffect((()=>{o.current.style.display=n?"block":"none"}),[n]);return Object(d.jsxs)("div",{ref:o,className:"sidenav",children:[Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsxs)("label",{htmlFor:"chk-user-list-all",className:"switch",children:[(()=>{let e=!(!t||t.length!==c.length);return a.a.createElement("input",{type:"checkbox",id:"chk-user-list-all",name:"chk-user-list-all",defaultChecked:{selected:e},onChange:i})})(),Object(d.jsx)("span",{className:"slider round"})]}),Object(d.jsx)("button",{className:"circle_btn",onClick:e=>{e.preventDefault(),s()},children:Object(d.jsx)(E.s,{})})]}),Object(d.jsx)("div",{className:"user-list__container",children:t&&t.map(((e,t)=>Object(d.jsx)(z,{index:t,user:e,sel:!!c.includes(e.username),setSelectedUsers:r},e.username)))})]})}n(400);const B=e=>{const{users:t,my:n,sendMessage:s}=e,[c,r]=a.a.useState(!1),[o,i]=a.a.useState([]),[l,u]=a.a.useState(""),[f,j]=a.a.useState(!1),m=a.a.useRef(null);a.a.useEffect((()=>{const e=t.map((e=>e.username));i(e)}),[t]);const b=e=>{j(!0),s(e,(e=>{j(!1),0===e&&(console.log("Send message success!"),u(""))}))},p=()=>{if(l){console.log(o);let e={};e.to=o,e.from=n.nick_name+":"+n.photo+"@"+n.username,e.type="text",e.content=l,e.ts=Date.now(),b(e)}};return Object(d.jsxs)("form",{className:"form",children:[Object(d.jsx)("input",{className:"input",type:"text",value:l,placeholder:"\u8f93\u5165\u6d88\u606f",onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p())}}),Object(d.jsx)("button",{id:"but-select-users",className:"image-button",onClick:e=>{e.preventDefault(),r(!c)},children:Object(d.jsx)(E.v,{size:24})}),Object(d.jsx)("button",{id:"file-select-message-button",className:"image-button",onClick:e=>{e.preventDefault(),m.current.click()},children:Object(d.jsx)(E.m,{size:24})}),Object(d.jsx)("input",{ref:m,id:"file-select-message-input",type:"file",onChange:e=>{let t=e.target.files[0];console.log("File name:".concat(t.name," size:").concat(t.size," type:").concat(t.type));let s=new FileReader;s.onload=e=>{let s={};s.to=o,s.from=n.nick_name+":"+n.photo+"@"+n.username,s.type=t.type,s.filename=t.name,s.content=e.target.result,s.ts=Date.now(),b(s)},s.readAsArrayBuffer(t)},hidden:!0}),Object(d.jsx)("button",{id:"but-send-message",className:"image-button",onClick:e=>{e.preventDefault(),p()},disabled:!!f,children:f?Object(d.jsx)(E.q,{size:24,className:"spinner"}):Object(d.jsx)(E.r,{size:24})}),Object(d.jsx)(W,{users:t,show:c,onHide:()=>r(!1),selectedUsers:o,setSelectedUsers:i})]})};B.defaultProps={users:[],my:{}};var H=B;function q(e,t){let n=e.getUint8(t.offset);if(++t.offset,128&n){let s=127&n;if(0===s);else if(1===s)n=e.getUint8(t.offset),++t.offset;else if(2===s)n=e.getUint16(t.offset),t.offset+=2;else{if(4!==s)throw new Error("Invalid tlv length:".concat(s));n=e.getUint32(t.offset),t.offset+=4}}return n}function K(e,t,n){n<=127?(e.setInt8(t.offset,n),++t.offset):n>127&&n<=255?(e.setInt8(t.offset,129),++t.offset,e.setUint8(n),++t.offset):n>255&&n<=65535?(e.setInt8(t.offset,130),++t.offset,e.setUint16(t.offset,n),t.offset+=2):(e.setInt8(t.offset,132),++t.offset,e.setUint32(t.offset,n),t.offset+=4)}function V(e,t){let n=e.getInt8(t.offset);return++t.offset,n}function J(e,t){return function(e,t,n){let s,a,c,r,o;s="",a=0;let i=new Uint8Array(e.buffer,t.offset,n);for(;a<n;)switch(c=i[a++],c>>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(c);break;case 12:case 13:r=i[a++],s+=String.fromCharCode((31&c)<<6|63&r);break;case 14:r=i[a++],o=i[a++],s+=String.fromCharCode((15&c)<<12|(63&r)<<6|(63&o)<<0)}return t.offset+=n,s}(e,t,q(e,t))}function Y(e,t,n){let s;switch(n){case 5:s=function(e,t){let n=q(e,t);if(0!==n)throw Error("Parse tlv null, but length:".concat(n));return null}(e,t);break;case 8:s=function(e,t){let n=!1,s=q(e,t);if(1!==s)throw Error("Parse tlv bool, but length:".concat(s));return n=1===e.getInt8(t.offset),++t.offset,n}(e,t);break;case 1:s=J(e,t);break;case 6:s=function(e,t){let n=0,s=q(e,t);if(1===s)n=e.getUint8(t.offset);else if(2===s)n=e.getUint16(t.offset);else if(4===s)n=e.getUint32(t.offset);else{if(8!==s)throw new Error("Read tlv int, but size is:".concat(s));n=e.getFloat64(t.offset)}return t.offset+=s,n}(e,t);break;case 7:s=function(e,t){let n=0,s=q(e,t);if(4===s)n=e.getFloat32(t.offset);else{if(8!==s)throw new Error("Read tlv float, but size is:".concat(s));n=e.getFloat64(t.offset)}return t.offset+=s,n}(e,t);break;case 4:s=function(e,t){let n=q(e,t),s=new Uint8Array(e.buffer,t.offset,n);return t.offset+=n,s}(e,t);break;case 2:s=function(e,t){let n=[];if(128!==q(e,t))throw Error("Parse array but length not 0x80!");for(;;){let s=V(e,t);if(0===s){if(0===q(e,t))break;throw Error("Parse array, type end, but length not 0!")}let a=Y(e,t,s);n.push(a)}return n}(e,t);break;case 3:s=X(e,t);break;case 9:s=function(e,t){let n,s=q(e,t);if(0!==s)throw Error("Parse tlv undefined, but length:".concat(s));return n}(e,t)}return s}function X(e,t){let n={};if(128!==q(e,t))throw Error("Parse object but length not 0x80!");for(;;){let s=V(e,t);if(0===s){if(0===q(e,t))break;throw Error("Parse object, type end, but length not 0!")}if(1!==s)throw new Error("Parse name, but type is ".concat(s));let a=J(e,t);s=V(e,t),n[a]=Y(e,t,s)}return n}function G(e,t,n){e.setUint8(t.offset,1),++t.offset;let s=function(e){let t,n,s=[];t=e.length;for(var a=0;a<t;a++)n=e.charCodeAt(a),n>=65536&&n<=1114111?(s.push(n>>>18&7|240),s.push(n>>>12&63|128),s.push(n>>>6&63|128),s.push(63&n|128)):n>=2048&&n<=65535?(s.push(n>>>12&15|224),s.push(n>>>6&63|128),s.push(63&n|128)):n>=128&&n<=2047?(s.push(n>>>6&31|192),s.push(63&n|128)):s.push(255&n);return s}(n);K(e,t,s.length);for(let a in s)e.setInt8(t.offset,s[a]),++t.offset}function Q(e,t){e.setInt8(t.offset,0),++t.offset,e.setInt8(t.offset,0),++t.offset}function $(e,t,n){if(null===n)!function(e,t){e.setInt8(t.offset,5),++t.offset,e.setInt8(t.offset,0),++t.offset}(e,t);else if(void 0===typeof n)!function(e,t){e.setInt8(t.offset,9),++t.offset,e.setInt8(t.offset,0),++t.offset}(e,t);else if("boolean"===typeof n)!function(e,t,n){e.setInt8(t.offset,8),++t.offset,e.setInt8(t.offset,1),++t.offset,e.setInt8(t.offset,n?1:0),++t.offset}(e,t,n);else if("number"===typeof n)Number.isInteger(n)?function(e,t,n){e.setInt8(t.offset,6),++t.offset;let s=t.offset,a=0;++t.offset,n<=255?(e.setUint8(t.offset,n),++t.offset,a=1):n>255&&n<=65535?(e.setUint16(n),t.offset+=2,a=2):n>65535&&n<=4294967295?(e.setUint32(t.offset,n),t.offset+=4,a=4):(e.setFloat64(t.offset,n),t.offset+=8,a=8),e.setInt8(s,a)}(e,t,n):function(e,t,n){e.setInt8(t.offset,7),++t.offset,e.setInt8(t.offset,4),++t.offset,e.setFloat32(t.offset,Math.fround(n)),t.offset+=4}(e,t,n);else if("string"===typeof n)G(e,t,n);else if("object"===typeof n){let s=Object.prototype.toString.call(n).slice(8,-1);"Object"===s?Z(e,t,n):"Array"===s?function(e,t,n){e.setInt8(t.offset,2),++t.offset,e.setUint8(t.offset,128),++t.offset,n.forEach((n=>{$(e,t,n)})),Q(e,t)}(e,t,n):"ArrayBuffer"===s||"Uint8Array"===s||"Int8Array"===s||"Uint16Array"===s||"Int16Array"===s||"Uint32Array"===s||"Int32Array"===s||"Float32Array"===s||"Float64Array"===s?function(e,t,n){e.setInt8(t.offset,4),++t.offset;let s=n.byteLength;K(e,t,s),new Uint8Array(e.buffer,t.offset,s).set(new Uint8Array(n instanceof ArrayBuffer?n:n.buffer)),t.offset+=s}(e,t,n):console.log("No processing data type:".concat(s))}else console.log("No processing data type:".concat(typeof n))}function Z(e,t,n){e.setInt8(t.offset,3),++t.offset,e.setUint8(t.offset,128),++t.offset;for(let s in n)n.hasOwnProperty(s)&&(console.log("encode key:".concat(s," value:").concat(n[s])),G(e,t,s),$(e,t,n[s]));Q(e,t)}function ee(e){let t=function(e){let t=0;return function e(n){if(null===n||void 0===n)t+=2;else switch(typeof n){case"number":t+=14;break;case"string":t+=3*n.length+6;break;case"boolean":t+=3;break;case"object":var s=Object.prototype.toString.call(n).slice(8,-1);if("Object"===s)for(let s in n)n.hasOwnProperty(s)&&(e(s),e(n[s]),t+=4);else if("Array"===s){for(const t of n)e(t);t+=4}else t+="ArrayBuffer"===s||"Uint8Array"===s||"Int8Array"===s||"Int16Array"===s||"Uint16Array"===s||"Uint32Array"===s||"Int32Array"===s||"Float32Array"===s||"Float64Array"===s?n.byteLength+6:2*n.toString().length;break;default:throw console.log(n),Error("Invalid type of object:".concat(typeof n))}return t}(e)}(e);console.log("Serialize object memory size:".concat(t));let n=new DataView(new ArrayBuffer(t)),s={offset:0};return Z(n,s,e),n.buffer.slice(0,s.offset)}function te(e){let t=new DataView(e),n={offset:0},s=t.getInt8(n.offset);if(n.offset+=1,3!==s)throw Error("Parse object, but type is:".concat(s,"."));return X(t,n)}var ne=n(201),se=n(202),ae=n(60),ce=n(205),re=n(204),oe=function(e){Object(ce.a)(n,e);var t=Object(re.a)(n);function n(e){var s;return Object(ne.a)(this,n),(s=t.call(this,e)).state={ws:window.WebSocket?new window.WebSocket(s.props.url,s.props.protocol):new window.MozWebSocket(s.props.url,s.props.protocol),attempts:1},s.sendMessage=s.sendMessage.bind(Object(ae.a)(s)),s.setupWebsocket=s.setupWebsocket.bind(Object(ae.a)(s)),Object.defineProperties(Object(ae.a)(s),{readyState:{get:function(){return this.state.ws.readyState}}}),s}return Object(se.a)(n,[{key:"logging",value:function(e){!0===this.props.debug&&console.log(e)}},{key:"generateInterval",value:function(e){return this.props.reconnectIntervalInMilliSeconds>0?this.props.reconnectIntervalInMilliSeconds:1e3*Math.min(30,Math.pow(2,e)-1)}},{key:"setupWebsocket",value:function(){var e=this,t=this.state.ws;t.binaryType="arraybuffer",t.onopen=function(t){e.logging("Websocket connected"),"function"===typeof e.props.onOpen&&e.props.onOpen(t)},t.onerror=function(t){"function"===typeof e.props.onError&&e.props.onError(t),"ECONNREFUSED"===t.code&&e.shouldReconnect&&e.reconnect()},t.onmessage=function(t){e.props.onMessage(t.data)},this.shouldReconnect=this.props.reconnect,t.onclose=function(t){e.logging("Websocket disconnected,the reason: ".concat(t.reason,",the code: ").concat(t.code)),"function"===typeof e.props.onClose&&e.props.onClose(t),e.shouldReconnect&&1e3!==t.code&&e.reconnect()}}},{key:"reconnect",value:function(){var e=this,t=this.generateInterval(this.state.attempts);this.timeoutID=setTimeout((function(){e.setState({attempts:e.state.attempts+1}),e.setState({ws:window.WebSocket?new window.WebSocket(e.props.url,e.props.protocol):new window.MozWebSocket(e.props.url,e.props.protocol)}),e.setupWebsocket()}),t)}},{key:"componentDidMount",value:function(){this.setupWebsocket()}},{key:"componentWillUnmount",value:function(){this.shouldReconnect=!1,clearTimeout(this.timeoutID),this.state.ws.close()}},{key:"sendMessage",value:function(e,t){var n=this.state.ws;n.readyState!==WebSocket.OPEN&&(console.log("websocket send in invalid state!"),t(-1)),n.send(e);var s=setInterval((function(){n.readyState!==WebSocket.OPEN?(clearInterval(s),t(-1)):0===n.bufferedAmount&&(clearInterval(s),t(0))}),20)}},{key:"render",value:function(){return Object(d.jsx)("div",{})}}]),n}(a.a.Component);oe.defaultProps={url:"ws://localhost/ws_group_chat?username=9923456789",debug:!0,reconnect:!0};var ie=oe;n(401);function le(e,t){switch(t.type){case"set":return t.users;case"online_users":var n=Object(C.a)(e);return t.uids.forEach((function(e){n.forEach((function(t){t.username===e&&(t.online=!0)}))})),n;case"on_state_change":var s=Object(C.a)(e);return s.forEach((function(e){e.username===t.change.uid&&(e.online=t.change.online)})),s;default:throw new Error("Unexpected action")}}var ue=function(e){var t=a.a.useContext(v).user.username,n=a.a.useRef(null),s=a.a.useState(null),c=Object(b.a)(s,2),r=c[0],o=c[1],i=a.a.useState(null),l=Object(b.a)(i,2),u=l[0],f=l[1],j=a.a.useReducer(le,[]),m=Object(b.a)(j,2),p=m[0],g=m[1],O=a.a.useState([]),x=Object(b.a)(O,2),w=x[0],y=x[1],_=a.a.useState(0),k=Object(b.a)(_,2),E=k[0],S=k[1];a.a.useEffect((function(){t&&h.get("/sapling/get_class_chat_info").then((function(e){if(0===e.data.result){var t=e.data.members.map((function(e){return e.online=!1,e}));g({type:"set",users:t}),o(e.data.classes),f(e.data.self)}else console.log("Server response error:".concat(e.data.result))})).catch((function(e){return console.log(e.toJSON().message)}))}),[t]);return Object(d.jsxs)("div",{className:"chat_outer_container",children:[t&&Object(d.jsx)(ie,{ref:n,url:"".concat("wss://localhost/ws_group_chat","?username=").concat(t),onOpen:function(e){console.log("websocket onopen,event:".concat(e))},onMessage:function(e){for(var t=te(e),n=0,s=Object.entries(t);n<s.length;n++){var a=Object(b.a)(s[n],2),c=a[0],r=a[1];"on_message"===c?(console.log(r),y([].concat(Object(C.a)(w),[r]))):"online_users"===c?g({type:"online_users",uids:r}):"on_state_change"===c?g({type:"on_state_change",change:r}):"unread_message_number"===c?S(r):console.log("Unknown ws onmessage method:".concat(c))}},onClose:function(e){console.log("websocket onclose,code:".concat(e.code,", reason:").concat(e.reason))},onError:function(e){console.log("websocket onclose,code:".concat(e.code,", reason:").concat(e.reason))},reconnect:!0,debug:!0,protocol:"chat"}),r&&u&&Object(d.jsxs)("div",{className:"chat_container",children:[Object(d.jsx)(T,{classes:r,state:n.current.readyState,unReadMessages:E,handleNotifications:function(e){if(0!==E){var t=ee({to:"server",from:u.username,type:"text",content:"get_unread_messages"});n.current.sendMessage(t,(function(e){0!==e?console.log("send get_unread_messages error!"):S((function(e){return e<10?0:e-10}))}))}}}),Object(d.jsx)(F,{messages:w,name:u.nick_name}),Object(d.jsx)(H,{users:p,my:u,sendMessage:function(e,t){if(e){e.to.length===p.length?e.to="all":e.to=e.to.join();var s=ee(e);n.current.sendMessage(s,t),e.to=u.username,y([].concat(Object(C.a)(w),[e]))}}})]})]})};n(402),n(185);function de(e){return Object(d.jsx)("div",{className:"test_container",children:Object(d.jsxs)("div",{className:"video__container",children:[Object(d.jsxs)("video",{id:"myvideo",controls:!0,autoPlay:!0,poster:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/3/poster-img.jpg",preload:"metadata",children:[Object(d.jsx)("source",{src:"https://d.pr/f/On5R8M+",type:"video/webM"}),Object(d.jsx)("p",{children:"Your browser does not support the HTML5 Video Element"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"track track-1",children:Object(d.jsx)("span",{children:"\u67f1\u5b50\uff0c\u4f60\u4ed6\u5a18\u4e86\u600e\u4e48\u4e0d\u7701\u70b9\u70ae\u5f39!"})}),Object(d.jsx)("div",{className:"track track-2",children:"\u6765\uff0c\u628a\u8001\u5b50\u7684\u610f\u5927\u5229\u70ae\u62ac\u4e0a\u6765\uff0c\u7ed9\u67f1\u5b50\u70b9\u4e2a\u70df"}),Object(d.jsx)("div",{className:"track track-3",children:"\u5c0f\u7684\u4eec\uff0c\u5403\u5510\u50e7\u8089\u5566"})]})]})})}var fe=n(11),je=n.n(fe);const me=e=>null!==e&&"undefined"!==typeof e?e.constructor:null,be=(e,t)=>Boolean(e&&t&&e instanceof t),pe=e=>null===e||"undefined"===typeof e,he=e=>me(e)===Object,ge=e=>me(e)===String,Oe=e=>me(e)===Function,ve=e=>Array.isArray(e),xe=e=>be(e,NodeList),we=e=>pe(e)||(ge(e)||ve(e)||xe(e))&&!e.length||he(e)&&!Object.keys(e).length;var ye=pe,_e=he,ke=e=>me(e)===Number&&!Number.isNaN(e),Ee=ge,Se=Oe,Ne=e=>null!==e&&"object"===typeof e&&1===e.nodeType&&"object"===typeof e.style&&"object"===typeof e.ownerDocument,Ce=we;function Le(e,t,n){const s=document.createElement(e);return _e(t)&&function(e,t){Ne(e)&&!Ce(t)&&Object.entries(t).filter((e=>{let[,t]=e;return!ye(t)})).forEach((t=>{let[n,s]=t;return e.setAttribute(n,s)}))}(s,t),Ee(n)&&(s.innerText=n),s}const Re=window.navigator.userAgent||"",Ae=()=>/Edg/i.test(Re),Me=()=>!Ae()&&(/Chrome/i.test(Re)||/CriOS/i.test(Re)),Ie=()=>/Android/i.test(Re),Pe=()=>/(iPhone|iPod)/gi.test(navigator.platform),De={isIE:Boolean(window.document.documentMode),ieVersion:function(){const e=/MSIE\s(\d+)\.\d/.exec(Re);let t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Re)&&/rv:11.0/.test(Re)&&(t=11),t}(),isEdge:Ae(),isFirefox:/Firefox/i.test(Re),isChrome:Me(),chromeVersion:function(){const e=Re.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:Pe(),isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform),iosVersion:function(){const e=window.navigator.userAgent.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),isIPod:/iPod/i.test(window.navigator.userAgent),isAndroid:Ie(),androidVersion:function(){const e=window.navigator.userAgent.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),isSafari:/Safari/i.test(Re)&&!Me()&&!Ie()&&!Ae(),isWindows:/Windows/i.test(Re),isX5:(()=>{const e=Re.match(/tbs\/(\d+) /i);return!!e&&(e[1]||"")>"036849"})()||(()=>{const e=Re.match(/MQQBrowser\/([\d+.]+) /i);return!!e&&(e[1]||"")>7.1})(),supportsMediaSource:function(){let e=window.self.MediaSource||window.self.WebKitMediaSource;if(!e)return!1;let t=window.self.SourceBuffer||window.self.WebKitSourceBuffer;const n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),s=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!n&&!!s}(),supportsNativeFullscreen:!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),supportsShadowDOM:!!HTMLElement.prototype.attachShadow,supportsWASM:function(){try{if("object"===typeof WebAssembly&&"function"===typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}(),pip:!Pe()&&(!!Se(Le("video").webkitSetPresentationMode)||!(!document.pictureInPictureEnabled||Le("video").disablePictureInPicture)),airplay:Se(window.WebKitPlaybackTargetAvailabilityEvent)};var Ue=De;n(403);function Fe(e){const{camlist:t,onPlayUri:n}=e,[s,c]=a.a.useState(null),[r,o]=a.a.useState(null),[i,l]=a.a.useState(null);a.a.useEffect((()=>{if(t){let e=t,s=null;if(e.fixed?l((e=>{if(e.cameras)for(const t of e.cameras)if(t.selected)return t;if(e.groups)for(const t of e.groups)for(const e of t.cameras)if(e.selected)return e;return null})(e)):(s=(e=>{let t={playuri:"",is_main_stream:!0};if(e.cameras){let n=e.cameras.map((e=>(1!==e.status||t.playuri?e.selected=!1:(e.selected=!0,t.playuri=P(e.oid),t.is_main_stream=e.is_main_stream,l(e)),e)));e.cameras=n}if(e.groups){let n=e.groups.map((e=>(e.selected=!1,e.show=!1,e.cameras.forEach(((n,s,a)=>{a[s].group=e,1!==n.status||t.playuri?a[s].selected=!1:(a[s].selected=!0,e.selected=!0,t.playuri=P(n.oid),t.is_main_stream=n.is_main_stream,l(a[s]))})),e)));e.groups=n}return t})(e),e.fixed=!0),e.groups&&1===e.groups.length){let t=(e.cameras||[]).concat(e.groups[0].cameras);c(t)}else e.groups&&o(e.groups),e.cameras&&c(e.cameras);s&&s.playuri&&n(s.playuri,s.is_main_stream)}}),[t,n]);const u=e=>{console.log("Click cam:".concat(e.oid)),i&&(i.selected=!1,i.group&&(i.group.selected=!1)),e.selected=!0,e.group&&(e.group.selected=!0,e.group.show=!1),l(e),s&&c([...s]),r&&o([...r]),n(P(e.oid),e.is_main_stream)};return Object(d.jsxs)("div",{className:r?"devlist_container":"devlist_container scrollx",children:[s&&s.map((e=>Object(d.jsxs)("div",{className:"camera_container",children:[1===e.status?Object(d.jsx)("span",{className:e.selected?"largeicon enable selected":"largeicon enable",onClick:t=>u(e),children:Object(d.jsx)(E.w,{})}):Object(d.jsx)("span",{className:"largeicon",children:Object(d.jsx)(E.x,{})}),Object(d.jsx)("p",{children:e.name})]},e.oid))),r&&r.map((e=>{return Object(d.jsxs)("div",{className:"camera_container",children:[Object(d.jsx)("span",{className:e.selected?"largeicon enable selected":"largeicon enable",onClick:t=>(e=>{e.show=!e.show,o([...r])})(e),children:Object(d.jsx)(E.p,{})}),Object(d.jsx)("div",{className:e.show?"cameras_sub_container show":"cameras_sub_container",children:(t=e.cameras,t.map((e=>1===e.status?Object(d.jsxs)("div",{className:e.selected?"camera_row_container enable selected":"camera_row_container enable",onClick:t=>u(e),children:[Object(d.jsx)("span",{className:"smallicon",children:Object(d.jsx)(E.w,{})}),Object(d.jsx)("p",{children:e.name})]},e.oid):Object(d.jsxs)("div",{className:"camera_row_container",children:[Object(d.jsx)("span",{className:"smallicon",children:Object(d.jsx)(E.w,{})}),Object(d.jsx)("p",{children:e.name})]}))))}),Object(d.jsx)("p",{children:e.name})]},e.gid);var t}))]})}Fe.defaultProps={camlist:{cameras:[],groups:[{gid:"3214124121324",name:"\u5317\u789a\u7d2b\u8346\u82b1\u5e7c\u513f\u56ed",cameras:[{oid:"142313441234123",name:"\u4e2d\u4e00\u73ed",status:1},{oid:"142313441141231",name:"\u4e2d\u4e8c\u73ed",status:1},{oid:"142313441141232",name:"\u4e2d\u4e8c\u73ed",status:1},{oid:"142313441141233",name:"\u4e2d\u4e8c\u73ed",status:1},{oid:"142313441141234",name:"\u4e2d\u4e8c\u73ed",status:1},{oid:"142313441141235",name:"\u4e2d\u4e8c\u73ed",status:1},{oid:"142313441141236",name:"\u4e2d\u4e8c\u73ed",status:1}]}]},onPlayUri:()=>{}};n(404);function Te(e){var t=e.messages;return Object(d.jsx)(L.a,{className:"messagesContainer",children:t&&t.map((function(e,t){var n=I(e.from);return Object(d.jsxs)("div",{className:"jabberContainer",children:[Object(d.jsx)(M,{image:n.avatar?"http://192.168.3.200/imgs/".concat(n.username,".").concat(n.avatar):"",name:n.name,size:24,position:"left"}),Object(d.jsx)("span",{className:"title",children:new Date(Number(e.ts)).toLocaleTimeString("en-US",{hour12:!1})}),Object(d.jsx)("span",{className:"title",children:n.name}),Object(d.jsx)("span",{children:A.a.emojify(e.content)})]},t)}))})}Te.defaultProps={messages:[{from:"\u7cfb\u7edf\u6d88\u606f:jpg@admin",content:"\u94f4\u597d\u7684\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd",ts:Date.now()}]};var ze=n(203),We=function(e,t){switch(t.type){case"set_free_tracks":if(t.message.content.length<10){for(var n=4;n>=0;n--)if(!e[n].working)return console.log("found free track:".concat(n)),t.result=!0,e[n].working=!0,e[n].startTs=window.performance.now(),e[n].message=t.message,Object(C.a)(e)}else for(var s=0;s<=4;s++)if(!e[s].working)return console.log("found free track:".concat(s)),t.result=!0,e[s].working=!0,e[s].startTs=window.performance.now(),e[s].message=t.message,Object(C.a)(e);return console.log("Not free track!"),t.result=!1,e;case"check_state":var a,c=!1,r=Object(ze.a)(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.working&&window.performance.now()-o.startTs>1e3*o.interval&&(c=!0,o.working=!1)}}catch(i){r.e(i)}finally{r.f()}return c?(t.hasFreeTracks=!0,Object(C.a)(e)):(t.hasFreeTracks=!1,e);default:throw new Error("Unexpected action:".concat(t.type))}};function Be(e){var t=e.message,n=a.a.useRef([]),s=a.a.useReducer(We,[{index:0,interval:10,working:!1,startTs:0,message:null},{index:1,interval:9,working:!1,startTs:0,message:null},{index:2,interval:8,working:!1,startTs:0,message:null},{index:3,interval:7,working:!1,startTs:0,message:null},{index:4,interval:6,working:!1,startTs:0,message:null}]),c=Object(b.a)(s,2),r=c[0],o=c[1];a.a.useEffect((function(){if(t){console.log(t);var e={type:"set_free_tracks",message:t};o(e),e.result||n.current.push(t)}}),[t]),a.a.useEffect((function(){var e=setInterval((function(){var e={type:"check_state"};if(o(e),e.hasFreeTracks){var t=null;do{if(t=n.current.shift())o({type:"set_free_tracks",message:t})}while(t)}}),1e3);return function(){console.log("destory timer"),clearInterval(e)}}),[]);return Object(d.jsx)("div",{children:r.map((function(e,t){if(e.working){var n=I(e.message.from);return Object(d.jsxs)("div",{className:"track track-".concat(t),children:[Object(d.jsx)("span",{className:"title",children:"".concat(n.name,":")}),Object(d.jsx)("span",{children:A.a.emojify(e.message.content)})]},t)}return null}))})}function He(e,t){a.a.useEffect((()=>{function n(n){e.current&&!e.current.contains(n.target)&&t(n)}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}}),[e,t])}Be.defaultProps={message:{from:"\u7cfb\u7edf\u6d88\u606f:jpg@admin",content:"\u94f4\u597d\u7684\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd:)",ts:Date.now()}};var qe=n(438);n(405);const Ke="bottom-center",Ve=5e3,Je=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],Ye=Object(s.createContext)(null);function Xe(e){let{children:t}=e;const[n,a]=Object(s.useState)(!1),[c,r]=Object(s.useState)(null),[o,i]=Object(s.useState)(""),[l,u]=Object(s.useState)(Ve),[f,j]=Object(s.useState)(Ke),[m,b]=Object(s.useState)({}),[p,h]=Object(s.useState)({}),g=(e,t,n,s,c)=>{i(e),u(t),j(n),b(s),h(c),a(!0)},O=()=>{a(!1)};return Object(d.jsxs)(Ye.Provider,{value:{openSnackbar:(e,t,s,c,r)=>{!0===n?(a(!1),setTimeout((()=>{g(e,t,s,c,r)}),250)):g(e,t,s,c,r)},closeSnackbar:O},children:[t,Object(d.jsx)(qe.a,{in:n,timeout:150,mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>{clearTimeout(c),r(setTimeout((()=>a(!1)),l))},className:"snackbar-wrapper snackbar-wrapper-".concat(f),classNames:{enter:"snackbar-enter snackbar-enter-".concat(f),enterActive:"snackbar-enter-active snackbar-enter-active-".concat(f),exitActive:"snackbar-exit-active snackbar-exit-active-".concat(f)},children:Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"snackbar",style:m,children:[Object(d.jsx)("div",{className:"snackbar__text",children:o}),Object(d.jsx)("button",{onClick:O,className:"snackbar__close",style:p,children:Object(d.jsx)(Ge,{})})]})})})]})}const Ge=()=>Object(d.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 12 12",children:Object(d.jsx)("path",{fill:"currentColor",d:"M11.73 1.58L7.31 6l4.42 4.42-1.06 1.06-4.42-4.42-4.42 4.42-1.06-1.06L5.19 6 .77 1.58 1.83.52l4.42 4.42L10.67.52z",fillRule:"evenodd"})}),Qe=function(){let{position:e=Ke,style:t={},closeStyle:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{openSnackbar:a,closeSnackbar:c}=Object(s.useContext)(Ye);function r(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve;a(s,c,e,t,n)}return Je.includes(e)||(e=Ke),[r,c]};var $e=function(){return Object(d.jsx)("div",{style:{marginLeft:"2px"},children:Object(d.jsxs)("svg",{t:"1639358405657",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4466",fill:"white",width:"28",height:"28",children:[Object(d.jsx)("defs",{children:Object(d.jsx)("style",{type:"text/css"})}),Object(d.jsx)("path",{d:"M511.5904 93.184C280.8832 93.184 92.16 281.9072 92.16 512.6144s188.7232 419.4304 419.4304 419.4304 419.4304-188.7232 419.4304-419.4304S747.52 93.184 511.5904 93.184L511.5904 93.184zM511.5904 879.616c-204.4928 0-367.0016-162.5088-367.0016-367.0016s162.5088-367.0016 367.0016-367.0016S878.592 308.1216 878.592 512.6144 716.0832 879.616 511.5904 879.616L511.5904 879.616z","p-id":"4467"}),Object(d.jsx)("path",{d:"M359.5264 523.0592 443.392 523.0592c0 68.1984 0 115.3024-5.2224 136.2944-5.2224 20.992-26.2144 36.6592-62.8736 36.6592-10.4448 0-20.992 0-26.2144 0l-5.2224-26.2144c10.4448 0 20.992 0 31.4368 0 26.2144 0 36.6592-5.2224 41.984-20.992 5.2224-15.7696 5.2224-47.2064 5.2224-94.4128l-94.4128 0 10.4448-115.3024 73.4208 0 0-68.1984-78.6432 0 0-26.2144L443.392 344.6784l0 115.3024-78.6432 0L359.5264 523.0592 359.5264 523.0592zM595.456 391.9872c10.4448-20.992 20.992-41.984 31.4368-68.1984l26.2144 10.4448c-10.4448 20.992-20.992 41.984-31.4368 57.6512l52.4288 0 0 162.5088-83.8656 0 0 36.6592 104.8576 0L695.0912 617.472 590.2336 617.472l0 78.6432-31.4368 0L558.7968 617.472l-99.6352 0 0-20.992 99.6352 0 0-41.984-83.8656 0L474.9312 391.9872 595.456 391.9872 595.456 391.9872zM553.5744 381.5424l-20.992 10.4448c-10.4448-20.992-20.992-41.984-36.6592-57.6512l26.2144-10.4448C537.8048 344.8832 548.2496 360.5504 553.5744 381.5424L553.5744 381.5424zM558.7968 465.408l0-47.2064-57.6512 0 0 47.2064L558.7968 465.408 558.7968 465.408zM558.7968 486.4l-57.6512 0 0 41.984 57.6512 0L558.7968 486.4 558.7968 486.4zM590.2336 465.408l57.6512 0 0-47.2064-57.6512 0L590.2336 465.408 590.2336 465.408zM647.8848 486.4l-57.6512 0 0 41.984 57.6512 0L647.8848 486.4 647.8848 486.4z","p-id":"4468"})]})})},Ze=function(){return Object(d.jsx)("div",{style:{marginLeft:"2px"},children:Object(d.jsxs)("svg",{t:"1639358446201",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4608",fill:"white",width:"28",height:"28",children:[Object(d.jsx)("defs",{children:Object(d.jsx)("style",{type:"text/css"})}),Object(d.jsx)("path",{d:"M361.0624 522.24l83.8656 0c0 68.1984 0 115.3024-5.2224 136.2944-5.2224 20.992-26.2144 36.6592-62.8736 36.6592-10.4448 0-20.992 0-26.2144 0l-5.2224-26.2144c10.4448 0 20.992 0 31.4368 0 26.2144 0 36.6592-5.2224 41.984-20.992 5.2224-15.7696 5.2224-47.2064 5.2224-94.4128l-94.4128 0L340.1728 438.272l73.4208 0 0-68.1984L334.848 370.0736l0-26.2144 110.08 0 0 115.3024-78.6432 0L361.0624 522.24 361.0624 522.24zM596.992 391.168c10.4448-20.992 20.992-41.984 31.4368-68.1984l26.2144 10.4448c-10.4448 20.992-20.992 41.984-31.4368 57.6512l52.4288 0 0 162.5088-83.8656 0 0 36.6592 104.8576 0 0 26.2144L591.7696 616.448l0 78.6432-31.4368 0 0-78.6432-99.6352 0 0-20.992 99.6352 0 0-41.984-83.8656 0L476.4672 391.168 596.992 391.168 596.992 391.168zM555.1104 380.6208 534.1184 391.168c-10.4448-20.992-20.992-41.984-36.6592-57.6512l26.2144-10.4448C539.3408 343.9616 549.888 359.6288 555.1104 380.6208L555.1104 380.6208zM560.3328 464.4864l0-47.2064-57.6512 0 0 47.2064L560.3328 464.4864 560.3328 464.4864zM560.3328 485.4784l-57.6512 0 0 41.984 57.6512 0L560.3328 485.4784 560.3328 485.4784zM591.7696 464.4864l57.6512 0 0-47.2064-57.6512 0L591.7696 464.4864 591.7696 464.4864zM649.4208 485.4784l-57.6512 0 0 41.984 57.6512 0L649.4208 485.4784 649.4208 485.4784z","p-id":"4609"}),Object(d.jsx)("path",{d:"M513.1264 89.7024c-230.7072 0-419.4304 188.7232-419.4304 419.4304s188.7232 419.4304 419.4304 419.4304 419.4304-188.7232 419.4304-419.4304S749.056 89.7024 513.1264 89.7024zM880.128 509.1328c0 92.7744-33.3824 176.8448-88.9856 241.0496L272.0768 231.1168c64.2048-55.6032 148.2752-88.9856 241.0496-88.9856C717.6192 142.1312 880.128 304.64 880.128 509.1328zM146.1248 509.1328c0-92.7744 33.3824-176.8448 88.9856-241.0496l519.0656 519.0656c-64.2048 55.6032-148.2752 88.9856-241.0496 88.9856C308.6336 876.1344 146.1248 713.5232 146.1248 509.1328z","p-id":"4610"})]})})},et=(n(406),window.screen);et.lockOrientationUniversal=function(e){return et.orientation&&et.orientation.lock(e).then((function(){}),(function(e){return console.log(e)}))||et.mozLockOrientation&&et.mozLockOrientation(e)||et.msLockOrientation&&et.msLockOrientation(e)};var tt=function(){return"number"===typeof window.orientation||et&&et.orientation&&et.orientation.angle?window.orientation:(console.log("angle unknown"),0)};function nt(e){return Boolean(e.mozHasAudio)||Boolean(e.webkitAudioDecodedByteCount)||Boolean(e.audioTracks&&e.audioTracks.length)}function st(e){var t=(e||{}).duration;return ke(t)&&t!==1/0?t:0}function at(e){var t=e.url,n=e.controls,s=e.autoplay,c=e.hlsConfig,r=e.poster,o=e.videoProps,i=e.cameras,l=e.messages,u=e.onRefreshCamlist,f=e.onSendMessage,j=e.onPlayChange,p=Qe(),h=Object(b.a)(p,1)[0],g=a.a.useState({width:0,height:0}),O=Object(b.a)(g,2),v=O[0],x=O[1],w=a.a.useState(""),y=Object(b.a)(w,2),_=y[0],k=y[1],S=a.a.useState(""),N=Object(b.a)(S,2),C=N[0],L=N[1],R=a.a.useState(0),A=Object(b.a)(R,2),M=A[0],I=A[1],P=a.a.useState(NaN),D=Object(b.a)(P,2),U=D[0],F=D[1],T=a.a.useState(!1),z=Object(b.a)(T,2),W=z[0],B=z[1],H=a.a.useState(!1),q=Object(b.a)(H,2),K=q[0],V=q[1],J=a.a.useState(1),Y=Object(b.a)(J,2),X=Y[0],G=Y[1],Q=a.a.useState(0),$=Object(b.a)(Q,2),Z=$[0],ee=$[1],te=a.a.useState(!1),ne=Object(b.a)(te,2),se=ne[0],ae=ne[1],ce=a.a.useState(!1),re=Object(b.a)(ce,2),oe=re[0],ie=re[1],le=a.a.useState(!0),ue=Object(b.a)(le,2),de=ue[0],fe=ue[1],me=a.a.useState({x:0,y:0}),be=Object(b.a)(me,2),pe=be[0],he=be[1],ge=a.a.useState(!1),Oe=Object(b.a)(ge,2),ve=Oe[0],xe=Oe[1],we=a.a.useState(""),ye=Object(b.a)(we,2),_e=ye[0],ke=ye[1],Ne=a.a.useState(null),Ce=Object(b.a)(Ne,2),Le=Ce[0],Re=Ce[1],Ae=a.a.useRef(),Me=a.a.useRef(null),Ie=a.a.useRef(null),Pe=a.a.useRef(null),De=a.a.useRef(null),ze=a.a.useRef(null);He(ze,(function(e){De.current&&!De.current.contains(e.target)&&ze.current.classList.remove("show")}));var We=a.a.useCallback((function(e){try{Ie.current.play()}catch(t){"NotAllowedError"===t.name&&e&&!Ie.current.muted?(Ie.current.muted=!0,We()):(ae(!1),Pe.current.classList.toggle("show"))}}),[]),qe=a.a.useCallback((function(e){ae(!0),Me.current=new je.a(c),Me.current.attachMedia(Ie.current),Me.current.on(je.a.Events.MEDIA_ATTACHED,(function(){console.log("video and hls.js are now bound together !"),Me.current.loadSource(C),Me.current.on(je.a.Events.MANIFEST_PARSED,(function(){F(st(Ie.current));var t=nt(Ie.current);B(t),(s||e)&&(We(t),console.log("duration:".concat(Ie.current.duration)))}))})),Me.current.on(je.a.Events.ERROR,(function(e,t){if(ae(!1),t.fatal)if(t.type===je.a.ErrorTypes.MEDIA_ERROR)console.log("media error encountered, try to recover"),Me.current.recoverMediaError();else if(console.log("Error,type:"+t.type+" details:"+t.details),Me.current.stopLoad(),Me.current.detachMedia(),Me.destory(),ee(4),t.type===je.a.ErrorTypes.NETWORK_ERROR){var n=t.details;if(n===je.a.ErrorDetails.MANIFEST_LOAD_ERROR||n===je.a.ErrorDetails.LEVEL_LOAD_ERROR||n===je.a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||n===je.a.ErrorDetails.FRAG_LOAD_ERROR||n===je.a.ErrorDetails.KEY_LOAD_ERROR){var s=t.response.code;403===s?h("\u6211\u4eec\u5df2\u7ecf\u68c0\u6d4b\u5230\u60a8\u7684\u5e10\u53f7\u5df2\u5728\u5176\u5b83\u8bbe\u5907\u4e0a\u6b63\u5728\u89c2\u770b\uff0c\u8bf7\u7b49\u5f85\u5176\u5b83\u8bbe\u5907\u505c\u6b62\u89c2\u770b\u540e\u518d\u8bd5!"):404===s?(h("\u89c2\u770b\u7684\u6d41\u5df2\u7ecf\u4e0b\u7ebf\uff0c\u5c06\u91cd\u65b0\u5237\u65b0\u89c2\u770b\u5217\u8868!"),u()):(h("\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef\u4ee3\u7801:".concat(s)),u())}else n===je.a.ErrorDetails.MANIFEST_LOAD_TIMEOUT||n===je.a.ErrorDetails.KEY_LOAD_TIMEOUT||n===je.a.ErrorDetails.LEVEL_LOAD_TIMEOUT?(h("\u52a0\u8f7d\u6587\u4ef6\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u6b63\u5e38..."),u()):n===je.a.ErrorDetails.MANIFEST_PARSING_ERROR||n===je.a.ErrorDetails.LEVEL_EMPTY_ERROR?h("\u89e3\u6790mainfest\u9519\u8bef: ".concat(t.reason)):h("\u670d\u52a1\u5668\u51fa\u4e86\u70b9\u95ee\u9898\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5!")}else h("\u65e0\u6cd5\u64ad\u653e\u6b64\u89c6\u9891,\u9519\u8bef\u7c7b\u578b\uff1a"+t.type+",\u9519\u8bef\u4ee3\u7801:"+t.details+",\u63cf\u8ff0:"+t.reason)}))}),[s,c,u,C,We]),Ke=a.a.useCallback((function(e){console.log("Browser not support mse, but can play m3u8!"),ae(!0),Ie.current.src=C,Ie.current.load(),Ie.current.oncanplaythrough=function(t){F(st(Ie.current));var n=nt(Ie.current);B(n),(s||e)&&We(n)},Ie.current.onerror=function(e){ae(!1),Ie.current.pause(),Ie.current.src="",Ie.current.removeAttribute("src"),Ie.current.load(),ee(4),console.log(e),console.log("Network status:".concat(Ie.networkState));var t="";switch(e.code){case MediaError.MEDIA_ERR_NETWORK:t="\u64ad\u653e\u8d85\u65f6\uff0c\u5c06\u91cd\u65b0\u5237\u65b0\u89c2\u770b\u5217\u8868...",u();break;case MediaError.MEDIA_ERR_DECODE:t="\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u64ad\u653e\u8be5\u89c6\u9891\u683c\u5f0f!";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:t="\u4e0d\u652f\u6301\u7684\u64ad\u653e\u683c\u5f0f\uff0c\u5c06\u91cd\u5237\u65b0\u5217\u8868...",u();break;case MediaError.MEDIA_ERR_ABORTED:t="\u8bf7\u6c42\u64ad\u653e\u7ec8\u6b62.";break;default:t="\u672a\u77e5\u9519\u8bef!"}h("error:".concat(t))}}),[s,u,C,We]);a.a.useLayoutEffect((function(){Ae.current&&(x({width:Ae.current.offsetWidth,height:Ae.current.offsetHeight}),console.log("useLayoutEffect, width:".concat(Ae.current.offsetWidth,", height:").concat(Ae.current.offsetHeight)))}),[]),a.a.useEffect((function(){Ue.isIos?(Ie.current.setAttribute("webkit-playsinline",!0),Ie.current.setAttribute("x-webkit-airplay","allow")):Ue.isX5&&(Ie.current.setAttribute("x5-video-player-type","h5-page"),Ie.current.setAttribute("x5-video-player-fullscreen","true"),Ie.current.setAttribute("x5-video-orientation","landscape"))}),[]),a.a.useEffect((function(){if(l.length>0){var e=l[l.length-1];Re(e)}}),[l]),a.a.useEffect((function(){_&&(console.log("check stream uri:".concat(_)),ae(!0),fetch(_,{credentials:"include",headers:{Accept:"application/x-mpegURL","Content-type":"application/x-mpegURL"},cache:"no-cache",method:"GET",mode:"cors"}).then((function(e){return ae(!1),404===e.status?(h("\u76f4\u64ad\u6d41\u5df2\u7ecf\u4e0b\u7ebf!"),u()):403===e.status?h("\u6211\u4eec\u5df2\u7ecf\u68c0\u6d4b\u5230\u60a8\u7684\u5e10\u53f7\u5df2\u5728\u5176\u5b83\u8bbe\u5907\u4e0a\u6b63\u5728\u89c2\u770b\uff0c\u8bf7\u7b49\u5f85\u5176\u5b83\u8bbe\u5907\u505c\u6b62\u89c2\u770b\u540e\u518d\u8bd5!"):200===e.status?L(_):h("\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef\u4ee3\u7801:".concat(e.status)),e.text()})).then((function(e){h("fetch mpd:".concat(e))})).catch((function(e){ae(!1),h("fetch play uri error:",e.message)})))}),[_,u]),a.a.useEffect((function(){console.log("HLSPlayer useEffect,url:".concat(t,",hls:").concat(Me.current,",video:").concat(Ie.current)),t&&(je.a.isSupported(),L(t))}),[t]),a.a.useEffect((function(){var e=function(e){"play"===e.type?(ee(1),console.log("play event!")):"pause"===e.type?(console.log("pause event!"),ee(0)):"abort"===e.type?(console.log("abort event!"),ae(!1),ee(3)):"ended"===e.type?(console.log("ended event!"),Ie.current.currentTime=0,ae(!1),ee(6)):"waiting"===e.type?(console.log("waiting event!"),ae(!0),ee(5)):"playing"===e.type?(console.log("playing event!"),ae(!1),ee(2),Pe.current.classList.toggle("show"),setTimeout((function(){Pe.current.classList.toggle("show")}),5e3)):"suspend"===e.type?(console.log("suspend event!"),ee(7),ae(!1)):"stalled"===e.type?(console.log("stalled event!"),ee(8)):"empied"===e.type&&(console.log("emptied event!"),ee(9),ae(!1))},t=function(){Ie.current.addEventListener("play",e),Ie.current.addEventListener("pause",e),Ie.current.addEventListener("abort",e),Ie.current.addEventListener("playing",e),Ie.current.addEventListener("emptied",e),Ie.current.addEventListener("ended",e),Ie.current.addEventListener("stalled",e),Ie.current.addEventListener("suppend",e)},n=Ie.current;return C&&(console.log("play stream uri:".concat(C)),ae(!1),je.a.isSupported()?(Me.current&&(console.log("Destory hls!"),Me.current.stopLoad(),Me.current.detachMedia()),t(),qe(!1)):n.canPlayType("application/vnd.apple.mpegurl")?(n.pause(),n.src="",n.removeAttribute("src"),n.load(),t(),Ke(!1)):h("\u6d4f\u89c8\u5668\u592a\u8001\u4e86,\u8bf7\u4e0b\u8f7d\u4e00\u6b3e\u652f\u6301MediaSourceExtension\u529f\u80fd\u7684\u6d4f\u89c8\u5668!")),function(){Me.current&&(console.log("Destory hls!"),Me.current.stopLoad(),Me.current.detachMedia(),Me.current.destroy()),(je.a.isSupported()||n.canPlayType("application/vnd.apple.mpegurl"))&&(Ie.current.removeEventListener("play",e),Ie.current.removeEventListener("pause",e),Ie.current.removeEventListener("abort",e),Ie.current.removeEventListener("playing",e),Ie.current.removeEventListener("emptied",e),Ie.current.removeEventListener("ended",e),Ie.current.removeEventListener("stalled",e),Ie.current.removeEventListener("suppend",e))}}),[C,qe,Ke]);var Ve=a.a.useCallback((function(e){if(e?he({x:window.pageXOffset||0,y:window.pageYOffset||0}):window.scrollTo(pe.x,pe.y),document.body.style.overflow=e?"hidden":"",Ae.current.classList.toggle("div__fullscreen"),Ue.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var s=Ee(t.content)&&t.content.includes(n);e?(xe(!s),s||(t.content+=",".concat(n))):ve&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==n})).join(","))}var a=null;a=e?new CustomEvent("fullscreen",{detail:{state:"enter"}}):new CustomEvent("fullscreen",{detail:{state:"exit"}}),console.log("div entered fullscreen mode:".concat(e)),Ae.current.dispatchEvent(a)}),[ve,pe]),Je=function(e){e?Ie.current.requestFullscreen?Ae.current.requestFullscreen().catch((function(e){console.error("Error:",e)})):Ie.current.msRequestFullscreen?Ie.current.msRequestFullscreen():Ie.current.mozRequestFullScreen?Ae.current.mozRequestFullScreen():Ie.current.webkitRequestFullscreen?Ae.current.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):console.log("Browser not support fullscreen API!"):document.exitFullscreen?document.exitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():console.log("Browser not support fullscreen API!")},Ye=a.a.useCallback((function(){var e=tt();90!==e&&270!==e&&-90!==e||!1===Ie.current.paused&&(Ue.supportsNativeFullscreen?Je(!0):Ve(!0),et.lockOrientationUniversal("landscape")),0!==e&&180!==e||oe&&(Ue.supportsNativeFullscreen?Je(!1):Ve(!1))}),[oe,Ve]);a.a.useEffect((function(){V(Ie.current.muted),G(Ie.current.volume);var e=function(){if(Se(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!Se(document["".concat(t,"ExitFullscreen")])&&!Se(document["".concat(t,"CancelFullScreen")]))&&(e=t,!0)})),e}(),t="ms"===e?"MSFullscreenChange":"".concat(e,"fullscreenchange");document.addEventListener(t,(function(e){var t=!!(document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement),n=null;n=t?new CustomEvent("fullscreen",{detail:{state:"enter"}}):new CustomEvent("fullscreen",{detail:{state:"exit"}}),console.log("document entered fullscreen mode:".concat(t)),Ae.current.dispatchEvent(n)}))}),[]),a.a.useEffect((function(){var e=function(e){"enter"===e.detail.state?(console.log("entered fullscreen mode."),ie(!0),(Ue.isAndroid||Ue.isIos)&&(tt()||et.lockOrientationUniversal("landscape"))):(console.log("Leaving full-screen mode."),ie(!1),j(C))};return Ae.current.addEventListener("fullscreen",e),function(){Ae.current&&Ae.current.removeEventListener("fullscreen",e)}}),[j,C]),a.a.useEffect((function(){(Ue.isAndroid||Ue.isIos)&&(Ue.isIos?window.addEventListener("orientationchange",Ye):et&&et.orientation&&(et.orientation.onchange=Ye))}),[Ye]);var Xe=function(){_e&&(f(_e),ke(""))};return console.log("HLSPlayer render!"),Object(d.jsxs)("div",{ref:Ae,className:"video__container",children:[Object(d.jsx)("video",Object(m.a)({ref:Ie,width:v.width,hieght:v.height,controls:n,crossOrigin:"use-credentials",poster:r,preload:"auto",autoPlay:!0,playsInline:!0,muted:"muted"},o)),se&&Object(d.jsxs)("div",{className:"loader",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]}),Object(d.jsxs)("div",{ref:Pe,className:"video__controls",children:[Object(d.jsx)("button",{id:"playpause",onClick:function(e){0===Z?We(W):2===Z?Ie.current.pause():je.a.isSupported()?qe(!0):Ke(!0)},children:2===Z?Object(d.jsx)(E.n,{}):Object(d.jsx)(E.o,{})}),U>0?Object(d.jsxs)("div",{className:"seeker",children:[Object(d.jsx)("progress",{id:"progressbar",className:"progressbar",max:100,defaultValue:M}),Object(d.jsx)("input",{type:"range",id:"seekbar",value:M,className:"seekbar",onChange:function(e){return I(e.target.value)}})]}):Object(d.jsx)("div",{className:"live",children:"\u76f4\u64ad"}),oe?Object(d.jsxs)("div",{className:"chat__container",children:[Object(d.jsx)("input",{type:"text",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\uff1f",value:_e,onChange:function(e){return ke(e.target.value.trim())},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),Xe())}}),Object(d.jsx)("button",{id:"chat",onClick:function(e){return Xe()},children:Object(d.jsx)(E.r,{})})]}):Object(d.jsx)("div",{className:"chat__container"}),W&&Object(d.jsxs)("div",{className:"volume__container",children:[Object(d.jsx)("button",{id:"mute",onClick:function(e){Ie.current.muted=!K,V((function(e){return!e})),Ie.current.muted?G(0):G(1)},children:K?Object(d.jsx)(E.y,{}):Object(d.jsx)(E.z,{})}),Object(d.jsx)("input",{type:"range",id:"volumebar",className:"volumebar",value:X,min:0,max:1,step:.1,onChange:function(e){console.log("volume:".concat(e.target.value)),Ie.current.volume=e.target.value,G(e.target.value),"0"===e.target.value?(V(!0),Ie.current.muted=!0):K&&(V(!1),Ie.current.muted=!1)}})]}),Ue.pip&&Object(d.jsx)("button",{id:"picture-in-picture",onClick:function(e){Se(Ie.current.webkitSetPresentationMode)?Ie.current.webkitSetPresentationMode("picture-in-picture"===Ie.current.webkitPresentationMode?"inline":"picture-in-picture"):document.pictureInPictureElement?document.exitPictureInPicture():document.pictureInPictureEnabled&&Ie.current.requestPictureInPicture()},children:Object(d.jsx)(E.i,{})}),Ue.airplay&&Object(d.jsx)("button",{id:"airplay",onClick:function(e){Ue.airplay&&Ie.current.webkitShowPlaybackTargetPicker()},children:Object(d.jsx)(E.l,{})}),oe&&Object(d.jsx)("button",{id:"barrage-toggle",onClick:function(e){fe((function(e){return!e}))},children:de?Object(d.jsx)($e,{}):Object(d.jsx)(Ze,{})}),Object(d.jsx)("button",{id:"fullscreen",onClick:function(e){Ue.supportsNativeFullscreen?Je(!oe):(console.log("Explorer not support fullscreen!"),Ve(!oe))},children:oe?Object(d.jsx)(E.h,{}):Object(d.jsx)(E.g,{})}),oe&&Object(d.jsx)("button",{ref:De,id:"menu-more",onClick:function(e){ze.current.classList.toggle("show")},children:Object(d.jsx)(E.c,{})})]}),Object(d.jsxs)("div",{ref:ze,className:"sidedlg",children:[i&&Object(d.jsx)(Fe,{camlist:i,onPlayUri:function(e){console.log("Screenfull play uri:".concat(e)),je.a.isSupported()?L(e):k(e)}}),Object(d.jsx)(Te,{messages:l})]}),oe&&de&&Le&&Object(d.jsx)(Be,{message:Le})]})}at.defaultProps={url:"https://anylooker.com/live/51060300001310000308_master.m3u8",controls:!1,autoplay:!0,hlsConfig:{liveDurationInfinity:!0,xhrSetup:function(e,t){e.responseType="text",e.withCredentials=!0},fetchSetup:function(e,t){return t.credentials="include",new Request(e.url,t)}},poster:"",videoProps:{},cameras:{},messages:[],onRefreshCamlist:function(){},onSendMessage:function(){},onPlayChange:function(){}};n(407);function ct(e){const{title:t,show:n,onClose:s,children:c}=e,r=a.a.useRef();a.a.useEffect((()=>{r.current.style.display=n?"block":"none"}),[n]);return Object(d.jsx)("div",{ref:r,className:"modal",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("span",{className:"close",onClick:e=>{r.current.style.display="none",s()},children:Object(d.jsx)(E.t,{})}),Object(d.jsx)("span",{style:{fontSize:"18px"},children:t})]}),Object(d.jsx)("div",{className:"modal-body",children:c})]})})}ct.defaultProps={title:"\u73ed\u7ea7\u4fee\u6539",show:!0,onClose:()=>{}};var rt=n(32),ot=n.n(rt);function it(e){const{username:t,token:n,show:s,onClose:c}=e,[r,o]=a.a.useState(""),[i,l]=a.a.useState(""),[u,f]=a.a.useState(""),[j,m]=a.a.useState({show:!1,text:""}),b=a.a.useRef();function p(e,t,n){let s=ot.a.SHA1(e+":"+t).toString(),a=ot.a.SHA1(t+":"+n).toString(),c=ot.a.SHA1(e+":"+t+":"+n).toString();return ot.a.SHA1(s+":"+a+":"+c).toString()}return Object(d.jsxs)(ct,{title:"\u53e3\u4ee4\u4fee\u6539",show:s,onClose:c,children:[Object(d.jsxs)("form",{className:"formContainer",onSubmit:e=>{if(e.preventDefault(),i!==u)return void m({...j,show:!0,text:"\u91cd\u590d\u8f93\u5165\u7684\u65b0\u53e3\u4ee4\u4e0e\u65b0\u53e3\u4ee4\u4e0d\u4e00\u81f4!"});if(!function(e){let s=!1,a="/sapling/login",c=p(t,e,a);return c!==n?(a="/sapling/get_camera_list",c=p(t,e,a),s=c===n):s=!0,s}(r))return void m({...j,show:!0,text:"\u8001\u53e3\u4ee4\u9519\u8bef!"});let s=ot.a.MD5(t+":"+r),a=Date.now(),o=ot.a.AES.encrypt(i,s,{iv:a,mode:ot.a.mode.CTR,padding:ot.a.pad.NoPadding}),l=ot.a.enc.Hex.stringify(o);h.get("/sapling/change_password?newpwd=".concat(l,"&counter=").concat(a)).then((e=>{0===e.data.result?(m({...j,show:!0,text:"\u4fee\u6539\u53e3\u4ee4\u6210\u529f!"}),c()):134217743===e.data.result?m({...j,show:!0,text:"\u5e10\u6237\u4e0d\u5b58\u5728!"}):134217744===e.data.result?m({...j,show:!0,text:"\u8001\u53e3\u4ee4\u9519\u8bef!"}):134217748===e.data.result?m({...j,show:!0,text:"\u6b64\u5e10\u6237\u65e0\u6743\u4fee\u6539!"}):m({...j,show:!0,text:"\u672a\u77e5\u9519\u8bef!"})})).catch((e=>m({...j,show:!0,text:e.toJSON().message})))},children:[Object(d.jsxs)("div",{className:"form__div",children:[Object(d.jsx)("input",{id:"oldpwd",type:"password",required:!0,className:"form__input",placeholder:" ",value:r,onChange:e=>o(e.target.value.trim())}),Object(d.jsx)("label",{htmlFor:"oldpwd",className:"form__label",children:"\u8bf7\u8f93\u5165\u539f\u53e3\u4ee4"})]}),Object(d.jsxs)("div",{className:"form__div",children:[Object(d.jsx)("input",{id:"newpwd",required:!0,type:"password",className:"form__input",placeholder:" ",value:i,onChange:e=>l(e.target.value.trim())}),Object(d.jsx)("label",{htmlFor:"newpwd",className:"form__label",children:"\u8bf7\u8f93\u5165\u65b0\u53e3\u4ee4"})]}),Object(d.jsxs)("div",{className:"form__div",children:[Object(d.jsx)("input",{id:"repeatpwd",type:"password",required:!0,className:"form__input",placeholder:" ",value:u,onChange:e=>f(e.target.value.trim())}),Object(d.jsx)("label",{htmlFor:"repeatpwd",className:"form__label",children:"\u8bf7\u518d\u8f93\u5165\u4e00\u6b21\u65b0\u53e3\u4ee4"})]}),Object(d.jsx)("button",{ref:b,type:"submit",className:"full_btn",children:"\u786e\u8ba4"})]}),Object(d.jsx)(w,{ref:b,delay:5e3,show:j.show,onClose:()=>m({...j,show:!1}),children:Object(d.jsx)("p",{children:j.text})})]})}n(432);const lt=a.a.forwardRef(((e,t)=>{const n=Object(u.g)(),[s]=Qe(),{open:c,onOutsideClick:r}=e,[o,i]=a.a.useState({username:"2523452345",nick_name:"\u6210\u6021",end_ts:"2022-09-01"}),[l,f]=a.a.useState(!1),j=a.a.useRef(),m=a.a.useRef();He(m,r),a.a.useEffect((()=>{h.get("/sapling/get_user_info").then((e=>{0===e.data.result?(i(e.data.info),e.data.info.photo?j.current.src="imgs/".concat(e.data.info.username,".").concat(e.data.info.photo):j.current.src="imgs/img_avatar_unknow.png"):s("get_user_info,Server respone error:".concat(e.data.result))})).catch((e=>s(e.toJSON().message)))}),[]),a.a.useEffect((()=>{m.current.style.display=c?"flex":"none"}),[c]),a.a.useImperativeHandle(t,(()=>({getName:()=>o?o.nick_name:"",getEndts:()=>o?o.end_ts:Date.now(),getPhoto:()=>o?o.photo:""})));return Object(d.jsxs)("div",{ref:m,className:"personal_card",children:[Object(d.jsx)("div",{className:"personal-image",children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"file",id:"modify-teacher-photo-file-upload",accept:"image/png, image/jpeg",onChange:e=>{const t=e.target.files[0];if(t.size>51200)return void s("\u9009\u62e9\u7684\u5934\u50cf\u6587\u4ef6\u4e0d\u80fd\u8d85\u8fc750KB\uff01");let n=t.name.split(".").pop();if(!n)return void s("\u9009\u62e9\u7684\u5934\u50cf\u6587\u4ef6\u6269\u5c55\u540d\u5fc5\u987b\u4e3apng\u6216jpg\uff01");j.current.src=URL.createObjectURL(t);let a=new FormData;a.append("username",o.username);let c="".concat(o.username,".").concat(n);a.append("photo",t,c),o.photo=n,h.post("/sapling/modify_subuser",a).then((e=>{0===e.data.result&&s("\u4fee\u6539\u5934\u50cf\u6210\u529f!")})).catch((e=>s("\u4fee\u6539\u5934\u50cf\u5931\u8d25:e.toJSON().message")))}}),Object(d.jsxs)("figure",{className:"personal-figure",children:[Object(d.jsx)("img",{ref:j,src:"http://localhost/imgs/img_avatar_unknow.png",className:"personal-avatar",alt:"avatar"}),Object(d.jsx)("figcaption",{className:"personal-figcaption",children:Object(d.jsx)("img",{src:"http://localhost/imgs/img_camera_white.png",alt:"avatar-camera"})})]})]})}),Object(d.jsxs)("div",{className:"personal-content",children:[Object(d.jsx)("h3",{children:o.nick_name}),Object(d.jsx)("p",{children:"\u767b\u5f55\u7528\u6237\u540d\uff1a".concat(o.username)}),Object(d.jsx)("p",{children:"\u5e10\u6237\u622a\u6b62\u65e5\u671f\uff1a".concat(o.end_ts)}),Object(d.jsx)("button",{type:"submit",className:"full_btn",onClick:e=>{e.preventDefault(),f(!0)},children:"\u4fee\u6539\u53e3\u4ee4"}),Object(d.jsx)("button",{type:"submit",className:"full_btn",onClick:e=>{e.preventDefault(),n("/login",{replace:!0,state:{from:"/player"}})},children:"\u5207\u6362\u767b\u5f55"})]}),Object(d.jsx)(it,{show:l,onClose:()=>f(!1)})]})}));lt.defaultProps={open:!0,onOutsideClick:()=>{}};var ut=lt;n(433);function dt(e){const{open:t,onOutsideClick:n}=e,s=a.a.useRef();return He(s,n),a.a.useEffect((()=>{s.current.style.display=t?"flex":"none"}),[t]),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{ref:s,className:"sideinfo",children:[Object(d.jsx)("p",{children:"\u6d4f\u89c8\u5668\uff1a".concat(window.navigator.userAgent)}),Object(d.jsx)("p",{children:"MSE\u652f\u6301\uff1a".concat(Ue.supportsMediaSource)}),Object(d.jsx)("p",{children:"\u539f\u751f\u5168\u5c4fAPI\u652f\u6301\uff1a".concat(Ue.supportsNativeFullscreen)}),Object(d.jsx)("p",{children:"ShadowDOM\u652f\u6301\uff1a".concat(Ue.supportsShadowDOM)}),Object(d.jsx)("p",{children:"WebAssembly\u652f\u6301\uff1a".concat(Ue.supportsWASM)}),Object(d.jsx)("p",{children:"\u753b\u4e2d\u753b\u64ad\u653e\u652f\u6301\uff1a".concat(Ue.pip)}),Object(d.jsx)("p",{children:"AirPlay\u64ad\u653e\u652f\u6301\uff1a".concat(Ue.airplay)}),Object(d.jsx)("p",{children:"X5\u5185\u6838\uff1a".concat(Ue.isX5)})]})})}n(434);function ft(e){var t=a.a.useContext(v).user.username,n=a.a.useRef(null),s=a.a.useState(""),c=Object(b.a)(s,2),r=c[0],o=c[1],i=a.a.useState(null),l=Object(b.a)(i,2),u=l[0],f=l[1],j=a.a.useState(0),p=Object(b.a)(j,2),h=p[0],g=p[1],O=a.a.useState(!1),x=Object(b.a)(O,2),w=x[0],y=x[1],_=a.a.useState(!1),k=Object(b.a)(_,2),S=k[0],N=k[1],L=a.a.useState(""),R=Object(b.a)(L,2),A=R[0],M=R[1],I=a.a.useState([]),P=Object(b.a)(I,2),D=P[0],U=P[1],F=a.a.useRef(),T=a.a.useRef(),z=a.a.useRef();a.a.useEffect((function(){var e=134217743,t=134217744;fetch("/sapling/get_camera_list?ts=".concat(Date.now()),{credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},cache:"no-cache",method:"GET",mode:"cors"}).then((function(n){if(!n.ok)throw new Error("Server repsone status:".concat(n.status));var s=n.json();0===s.result?f(s.cameras):s.result===e?console.log("\u5e10\u6237\u4e0d\u5b58\u5728!"):s.result===t?console.log("\u53e3\u4ee4\u9519\u8bef!"):134217745===s.result?console.log("\u5e10\u6237\u5df2\u8fc7\u671f!"):(console.log("get_camera_list response error code:".concat(s.result)),f({cameras:[{oid:"51060300001310000006",name:"\u95e8\u536b",status:1},{oid:"51060300001310000308",name:"\u5927\u5385",status:1}]}))})).catch((function(e){return console.error("Error:",e)}))}),[h]);var W=a.a.useCallback((function(){g((function(e){return e+1}))}),[]),B=a.a.useCallback((function(e){e!==r&&(o(e),f(Object(m.a)({},u)))}),[u,r]),H=a.a.useCallback((function(e){F.current.contains(e.target)||y(!1)}),[]),q=a.a.useCallback((function(e){T.current.contains(e.target)||N(!1)}),[]),K=a.a.useCallback((function(e){var s={};s.from=z.current.getName()+":"+z.current.getPhoto()+"@"+t,s.to="all",s.type="jabber",s.content=e,s.ts=Date.now();var a=ee(s);n.current.sendMessage(a,(function(e){console.log("Send message success!")})),s.to=t,U([].concat(Object(C.a)(D),[s]))}),[D,t]),V=a.a.useCallback((function(e){K(e)}),[K]),J=function(e){A&&(K(A),M(""))},Y=a.a.useMemo((function(){return{liveDurationInfinity:!0,xhrSetup:function(e,t){e.withCredentials=!0},fetchSetup:function(e,t){return t.credentials="include",new Request(e.url,t)}}}),[]);return Object(d.jsxs)("div",{className:"live_container",children:[t&&Object(d.jsx)(ie,{ref:n,url:"".concat("wss://localhost/ws_group_chat","?username=").concat(t),onOpen:function(e){var t={from:"\u7cfb\u7edf\u6d88\u606f:jpg@admin",content:"\u5df2\u7ecf\u8fde\u63a5\u5230\u804a\u5929\u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u804a\u5929\uff0c\u804a\u5929\u65f6\u8bf7\u6ce8\u610f\u6587\u660e\u7528\u8bed\uff01",ts:Date.now()};U([].concat(Object(C.a)(D),[t]))},onMessage:function(e){for(var t=te(e),n=0,s=Object.entries(t);n<s.length;n++){var a=Object(b.a)(s[n],2),c=a[0],r=a[1];"on_message"===c?(console.log(r),U([].concat(Object(C.a)(D),[r]))):console.log("Unknown ws onmessage method:".concat(c))}},onClose:function(e){var t={from:"\u7cfb\u7edf\u6d88\u606f:jpg@admin",content:"\u4e0e\u804a\u5929\u670d\u52a1\u5668\u65ad\u5f00\uff0c\u804a\u5929\u6682\u65f6\u4e0d\u53ef\u7528\uff01",ts:Date.now()};U([].concat(Object(C.a)(D),[t]))},onError:function(e){var t={from:"\u7cfb\u7edf\u6d88\u606f:jpg@admin",content:"\u4e0e\u804a\u5929\u670d\u52a1\u5668\u901a\u4fe1\u53d1\u751f\u9519\u8bef\uff0c\u9519\u8bef\u4ee3\u7801:".concat(e.code,"\uff01"),ts:Date.now()};U([].concat(Object(C.a)(D),[t]))},reconnect:!0,debug:!0,protocol:"jabber"}),Object(d.jsx)(at,{url:r,autoplay:!0,hlsConfig:Y,poster:"",videoProps:{},cameras:u,messages:D,onRefreshCamlist:W,onSendMessage:V,onPlayChange:B}),Object(d.jsx)("div",{className:"content__container",children:Object(d.jsxs)("div",{className:"inner__content-container",children:[u&&Object(d.jsx)(Fe,{camlist:u,onPlayUri:function(e,t){o(e)}}),Object(d.jsx)(Te,{messages:D})]})}),Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("div",{ref:F,className:"icon",onClick:function(e){y(!w)},children:Object(d.jsx)(E.u,{})}),Object(d.jsx)("div",{ref:T,className:"icon",onClick:function(e){N(!S)},children:Object(d.jsx)(E.j,{})}),Object(d.jsx)("input",{id:"input-jabber-message",type:"text",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\uff1f",value:A,onChange:function(e){return M(e.target.value.trim())},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),J())}}),Object(d.jsx)("div",{className:"icon",onClick:J,children:Object(d.jsx)(E.r,{})})]}),Object(d.jsx)(ut,{ref:z,open:w,onOutsideClick:H}),Object(d.jsx)(dt,{open:S,onOutsideClick:q})]})}n(435);function jt(e){const[t,n]=a.a.useState({user:e.user,updateUser:e=>{n({...t,user:e})}});return Object(d.jsx)(v.Provider,{value:t,children:Object(d.jsx)(Xe,{children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{path:"/",element:t.user.username?Object(d.jsx)(f,{}):Object(d.jsx)(u.a,{to:"/login",state:{from:"/"}})}),Object(d.jsx)(u.b,{path:"/login",element:Object(d.jsx)(y,{})}),Object(d.jsx)(u.b,{path:"/school",element:Object(d.jsx)(k,{})}),Object(d.jsx)(u.b,{path:"/teachers",element:Object(d.jsx)(S,{})}),Object(d.jsx)(u.b,{path:"/chat",element:t.user.username?Object(d.jsx)(ue,{}):Object(d.jsx)(u.a,{to:"/login",state:{from:"/chat"}})}),Object(d.jsx)(u.b,{path:"/player",element:t.user.username?Object(d.jsx)(ft,{}):Object(d.jsx)(u.a,{to:"/login",state:{from:"/player"}})}),Object(d.jsx)(u.b,{path:"/recipes",element:Object(d.jsx)(N,{})}),Object(d.jsx)(u.b,{path:"/test",element:Object(d.jsx)(de,{})})]})})})})}!function(){var e={};e.username=i.a.get("username"),e.token=i.a.get("token"),e.role=i.a.get("role");var t=document.getElementById("root");r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(jt,{user:e})}),t)}()},45:function(e,t,n){}},[[436,1,2]]]);
//# sourceMappingURL=main.b90c02bf.chunk.js.map